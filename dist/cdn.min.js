(()=>{var v=()=>({style:{wrapper:"w-full relative",select:"border w-full border-gray-300 rounded-lg py-2 px-2 text-sm flex gap-2 items-center cursor-pointer bg-white",menuWrapper:"w-full rounded-lg py-1.5 text-sm mt-1 shadow-lg absolute bg-white z-10",menu:"max-h-52 overflow-y-auto",textList:"overflow-x-hidden text-ellipsis grow whitespace-nowrap",trigger:"px-2 py-2 rounded bg-neutral-100",badge:"py-1.5 px-3 rounded-full bg-neutral-100",search:"px-3 py-2 w-full border-0 border-b-2 border-neutral-100 pb-3 outline-0 mb-1",optionGroupTitle:"px-3 py-2 text-neutral-400 uppercase font-bold text-xs sticky top-0 bg-white",clearSearchBtn:"absolute p-3 right-0 top-1 text-neutral-600",label:"hover:bg-neutral-100 cursor-pointer flex py-2 px-3",focusedItem:"bg-neutral-100"},icons:{times:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-4 h-4"><g xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path d="M6 18L18 6M18 18L6 6"/></g></svg>',arrowDown:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-4 h-4"><path xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-width="2" d="M5 10l7 7 7-7"/></svg>'},init(){let e=this.style,n=this.$el;n.classList.add("hidden");let r=document.createElement("div");r.className=e.wrapper,r.setAttribute("x-data","newSelect");let o=document.createElement("div");o.className=e.select,o.setAttribute("x-bind","selectTrigger");let i=document.createElement("span");i.className=e.textList;let a=document.createElement("button");a.className=e.trigger,a.innerHTML=this.icons.arrowDown;let u=document.createElement("span");u.className=e.badge,u.setAttribute("x-bind","countBadge"),o.append(i),o.append(u),o.append(a);let d=document.createElement("div");d.className=e.menuWrapper,d.setAttribute("x-bind","selectMenu");let h=document.createElement("div");h.className=e.menu;let m=document.createElement("input");m.className=e.search,m.setAttribute("x-bind","search"),m.setAttribute("placeholder","filter");let g=document.createElement("button");g.className=e.clearSearchBtn,g.setAttribute("x-bind","clearSearchBtn"),g.innerHTML=this.icons.times,d.append(m),d.append(h),d.append(g),n.parentNode.insertBefore(r,n.nextSibling);let y=n.querySelectorAll("optgroup");y.length>0?y.forEach(t=>b(t)):b(n);function b(t){let p=t.querySelectorAll("option"),w=document.createElement("ul"),f=t.getAttribute("label")||null;if(f){let l=document.createElement("h5");l.className=e.optionGroupTitle,l.innerText=f,l.setAttribute("x-bind","groupTitle"),h.appendChild(l)}p.forEach(l=>{let x=document.createElement("li");x.setAttribute("x-bind","listItem");let s=document.createElement("input");s.classList.add("mr-3","mt-1"),s.type="checkbox",s.value=l.value,s.id=n.name+"_"+l.value;let c=document.createElement("label");c.className=e.label,c.setAttribute("for",s.id),c.innerText=l.innerText,s.addEventListener("focus",()=>{c.classList.add(e.focusedItem)}),s.addEventListener("blur",()=>{c.classList.remove(e.focusedItem)}),s.setAttribute("x-bind","checkBox"),l.hasAttribute("selected")&&(s.checked=!0),c.prepend(s),x.append(c),w.appendChild(x)}),h.appendChild(w)}r.appendChild(o),r.appendChild(d),Alpine.data("newSelect",()=>({open:!1,showCountBadge:!1,items:[],selectedItems:[],filterBy:"",init(){this.regenerateTextItems()},regenerateTextItems(){this.selectedItems=[],this.items.forEach(t=>{let p=t.querySelector("input[type=checkbox]"),w=t.querySelector("label").innerText;p.checked&&this.selectedItems.push(w)}),this.selectedItems.length>1?this.showCountBadge=!0:this.showCountBadge=!1,this.selectedItems.length===0?i.innerHTML='<span class="text-neutral-400">select</span>':i.innerText=this.selectedItems.join(", ")},selectTrigger:{["@click"](){this.open=!this.open,this.open&&this.$nextTick(()=>this.$root.querySelector("input[x-bind=search]").focus())}},selectMenu:{["x-show"](){return this.open},["x-trap.noscroll"](){return this.open},["@keydown.down"](){this.$focus.wrap().next()},["@keydown.up"](){this.$focus.wrap().previous()},["x-transition"](){},["@keydown.escape.window"](){this.open=!1},["@click.away"](){this.open=!1},["x-init"](){this.items=this.$el.querySelectorAll("li"),this.regenerateTextItems()}},checkBox:{["@change"](){let t=this.$el;t.checked?n.querySelector("option[value='"+t.value+"']").setAttribute("selected",!0):n.querySelector("option[value='"+t.value+"']").removeAttribute("selected"),this.regenerateTextItems()}},countBadge:{["x-show"](){return this.showCountBadge},["x-text"](){return this.selectedItems.length}},search:{["@keydown.escape.stop"](){this.filterBy="",this.$el.blur()},["@keyup"](){this.filterBy=this.$el.value},["x-model"](){return this.filterBy}},clearSearchBtn:{["@click"](){this.filterBy=""},["x-show"](){return this.filterBy.length>0}},listItem:{["x-show"](){return this.filterBy===""||this.$el.innerText.toLowerCase().startsWith(this.filterBy.toLowerCase())}},groupTitle:{["x-show"](){if(this.filterBy==="")return!0;let t=!1;return this.$el.nextElementSibling.querySelectorAll("li").forEach(p=>{console.log(this.filterBy),p.innerText.toLowerCase().startsWith(this.filterBy.toLowerCase())&&(t=!0)}),t}}}))}});var k=()=>({openedModalId:null,originalBodyPaddingRight:null,originalBodyOverflow:null,style:{background:"fixed top-0 left-0 flex w-screen h-screen max-w-full bg-neutral-500/50 z-50 overflow-y-auto p-3",dialog:"h-auto p-6 m-auto relative w-full max-w-md bg-white rounded-lg shadow-xl"},init(){let e=this.style;this.$el.querySelectorAll("template").forEach((r,o)=>{let i=r.content,a=i.querySelector("[x-bind=background]");a.className=e.background;let u=i.querySelector("[x-bind=dialog]");u.className=e.dialog}),this.$watch("open",r=>{if(r!==null){this.originalBodyOverfow=window.getComputedStyle(document.body).overflow,this.originalPaddingRight=document.body.style.paddingRight;let o=window.getComputedStyle(document.body).paddingRight,i=window.innerWidth-document.documentElement.clientWidth;document.body.classList.add("overflow-hidden"),document.body.style.paddingRight=`${i+parseFloat(o||0)}px`}else setTimeout(()=>{document.body.classList.remove("overflow-hidden"),document.body.style.paddingRight=this.originalBodyPaddingRight||null,document.body.style.overflow=this.originalBodyOverflow},300)})},trigger:{["@click"](){this.openedModalId=this.$el.dataset.mistralModalId}},background:{["x-show"](){let e=this.$el.querySelector("[x-bind=dialog]").id;return this.openedModalId===e},["x-transition:enter"](){return"transition duration-300"},["x-transition:enter-start"](){return"opacity-0"},["x-transition:enter-end"](){return"opacity-1"},["x-transition:leave"](){return"transition duration-300"},["x-transition:leave-start"](){return"opacity-1"},["x-transition:leave-end"](){return"opacity-0"}},dialog:{["@mistral-close-modal.window"](){this.openedModalId=null},["x-show"](){return this.openedModalId===this.$el.id},["x-trap"](){return this.openedModalId===this.$el.id},["@keydown.escape.window"](){this.openedModalId=null},["@click.away"](){this.openedModalId=null},["x-transition:enter"](){return"transition ease-[cubic-bezier(.46,1.56,.8,1)] duration-300"},["x-transition:enter-start"](){return"opacity-0 -translate-y-12"},["x-transition:enter-end"](){return"opacity-1 translate-y-0"},["x-transition:leave"](){return"transition ease-out duration-300"},["x-transition:leave-start"](){return"opacity-1 translate-y-0"},["x-transition:leave-end"](){return"opacity-0 -translate-y-12"}}});var B=()=>({style:{wrapper:"relative",menu:{bottom:"absolute bg-white rounded-lg shadow-lg py-3 w-max mt-3",top:"absolute bg-white rounded-lg shadow-lg py-3 w-max -translate-y-full -mt-3 top-0"},menuItem:"px-4 py-2 flex gap-2 items-center outline-0 focus:bg-neutral-100 hover:bg-neutral-100 whitespace-nowrap"},position:"bottom",open:!1,init(){let e=this.style,n=this.$el;this.position=n.dataset.position==="top"?"top":"bottom",n.className=e.wrapper;let r=this.$el.querySelector("[x-bind=trigger]"),o=this.$el.querySelector("[x-bind=menu]");o.className=e.menu[this.position],this.$el.querySelectorAll("[x-bind=menu] > li > a").forEach(a=>{a.className=e.menuItem})},trigger:{["@click.prevent"](){this.open=!this.open}},menu:{["x-show"](){return this.open},["x-trap"](){return this.open},["@keydown.escape.window"](){this.open=!1},["@click.away"](){this.open=!1},["@keydown.prevent.down"](){this.$focus.wrap().next()},["@keydown.prevent.up"](){this.$focus.wrap().previous()},["x-transition:enter"](){return"ease-[cubic-bezier(.3,2.3,.6,1)] duration-200"},["x-transition:enter-start"](){return this.position==="bottom","!opacity-0 !mt-0"},["x-transition:enter-end"](){return this.position==="bottom"?"!opacity-1 !mt-3":"!opacity-1 !-mt-3"},["x-transition:leave"](){return"ease-out duration-200"},["x-transition:leave-start"](){return this.position==="bottom"?"!opacity-1 !mt-3":"!opacity-1 !-mt-3"},["x-transition:leave-end"](){return this.position==="bottom","!opacity-0 !mt-0"}}});window.Mistral={multiselect:v,modal:k,dropdown:B};})();
