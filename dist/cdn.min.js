(()=>{var b=()=>({style:{wrapper:"w-full relative",select:"border w-full border-gray-300 rounded-lg py-2 px-2 text-sm flex gap-2 items-center cursor-pointer bg-white",menuWrapper:"w-full rounded-lg py-1.5 text-sm mt-1 shadow-lg absolute bg-white z-10",menu:"max-h-52 overflow-y-auto",textList:"overflow-x-hidden text-ellipsis grow whitespace-nowrap",trigger:"px-2 py-2 rounded bg-neutral-100",badge:"py-1.5 px-3 rounded-full bg-neutral-100",search:"px-3 py-2 w-full border-0 border-b-2 border-neutral-100 pb-3 outline-0 mb-1",optionGroupTitle:"px-3 py-2 text-neutral-400 uppercase font-bold text-xs sticky top-0 bg-white",clearSearchBtn:"absolute p-3 right-0 top-1 text-neutral-600",label:"hover:bg-neutral-100 cursor-pointer flex py-2 px-3",focusedItem:"bg-neutral-100"},icons:{times:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-4 h-4"><g xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path d="M6 18L18 6M18 18L6 6"/></g></svg>',arrowDown:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-4 h-4"><path xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-width="2" d="M5 10l7 7 7-7"/></svg>'},open:!1,showCountBadge:!1,items:[],selectedItems:[],filterBy:"",originalSelect:null,generatedSelect:null,textList:null,init(){let e=this.style;this.originalSelect=this.$el.querySelector("select"),this.originalSelect.classList.add("hidden");let r=this.originalSelect,t=this.$el;t.className=e.wrapper,this.generatedSelect=document.createElement("div"),this.generatedSelect.className=e.select,this.generatedSelect.setAttribute("x-bind","selectTrigger"),this.textList=document.createElement("span"),this.textList.className=e.textList;let i=document.createElement("button");i.type="button",i.className=e.trigger,i.innerHTML=this.icons.arrowDown;let o=document.createElement("span");o.className=e.badge,o.setAttribute("x-bind","countBadge"),this.generatedSelect.append(this.textList),this.generatedSelect.append(o),this.generatedSelect.append(i);let n=document.createElement("div");n.className=e.menuWrapper,n.setAttribute("x-bind","selectMenu");let a=document.createElement("div");a.className=e.menu;let u=document.createElement("input");u.className=e.search,u.setAttribute("x-bind","search"),u.setAttribute("placeholder","filter");let d=document.createElement("button");d.type="button",d.className=e.clearSearchBtn,d.setAttribute("x-bind","clearSearchBtn"),d.innerHTML=this.icons.times,n.append(u),n.append(a),n.append(d);let m=this.originalSelect.querySelectorAll("optgroup");m.length>0?m.forEach(p=>g(p,a)):g(this.originalSelect,a);function g(p,w){let S=p.querySelectorAll("option"),x=document.createElement("ul"),y=p.getAttribute("label")||null;if(y){let s=document.createElement("h5");s.className=e.optionGroupTitle,s.innerText=y,s.setAttribute("x-bind","groupTitle"),w.appendChild(s)}S.forEach(s=>{let h=document.createElement("li");h.setAttribute("x-bind","listItem");let l=document.createElement("input");l.classList.add("mr-3","mt-1"),l.type="checkbox",l.value=s.value;let c=document.createElement("label");c.className=e.label,c.innerText=s.innerText,l.addEventListener("focus",()=>{c.classList.add(e.focusedItem)}),l.addEventListener("blur",()=>{c.classList.remove(e.focusedItem)}),l.setAttribute("x-bind","checkBox"),s.hasAttribute("selected")&&(l.checked=!0),c.prepend(l),h.append(c),x.appendChild(h)}),w.appendChild(x)}t.appendChild(this.generatedSelect),t.appendChild(n)},regenerateTextItems(){this.selectedItems=[],this.items.forEach(e=>{let r=e.querySelector("input[type=checkbox]"),t=e.querySelector("label").innerText;r.checked&&this.selectedItems.push(t)}),this.selectedItems.length>1?this.showCountBadge=!0:this.showCountBadge=!1,this.selectedItems.length===0?this.textList.innerHTML='<span class="text-neutral-400">select</span>':this.textList.innerText=this.selectedItems.join(", ")},selectTrigger:{["@click"](){this.open=!this.open,this.open&&this.$nextTick(()=>this.$root.querySelector("input[x-bind=search]").focus())}},selectMenu:{["x-show"](){return this.open},["x-trap.noscroll"](){return this.open},["@keydown.down"](){this.$focus.wrap().next()},["@keydown.up"](){this.$focus.wrap().previous()},["x-transition"](){},["@keydown.escape.window"](){this.open=!1},["@click.away"](){this.open=!1},["x-init"](){this.items=this.$el.querySelectorAll("li"),this.regenerateTextItems()}},checkBox:{["@change"](){let e=this.$el;e.checked?this.originalSelect.querySelector("option[value='"+e.value+"']").setAttribute("selected",!0):this.originalSelect.querySelector("option[value='"+e.value+"']").removeAttribute("selected"),this.regenerateTextItems()}},countBadge:{["x-show"](){return this.showCountBadge},["x-text"](){return this.selectedItems.length}},search:{["@keydown.escape.stop"](){this.filterBy="",this.$el.blur()},["@keyup"](){this.filterBy=this.$el.value},["x-model"](){return this.filterBy}},clearSearchBtn:{["@click"](){this.filterBy=""},["x-show"](){return this.filterBy.length>0}},listItem:{["x-show"](){return this.filterBy===""||this.$el.innerText.toLowerCase().startsWith(this.filterBy.toLowerCase())}},groupTitle:{["x-show"](){if(this.filterBy==="")return!0;let e=!1;return this.$el.nextElementSibling.querySelectorAll("li").forEach(r=>{r.innerText.toLowerCase().startsWith(this.filterBy.toLowerCase())&&(e=!0)}),e}}});var f=()=>({openedModalId:null,originalBodyPaddingRight:null,originalBodyOverflow:null,style:{background:"fixed top-0 left-0 flex w-screen h-screen max-w-full bg-neutral-500/50 z-50 overflow-y-auto p-3",dialog:"h-auto p-6 m-auto relative w-full max-w-md bg-white rounded-lg shadow-xl"},init(){let e=this.style;this.$el.querySelectorAll("template").forEach((t,i)=>{let o=t.content,n=o.querySelector("[x-bind=background]");n.className=e.background;let a=o.querySelector("[x-bind=dialog]");a.className=e.dialog}),this.$watch("open",t=>{if(t!==null){this.originalBodyOverfow=window.getComputedStyle(document.body).overflow,this.originalPaddingRight=document.body.style.paddingRight;let i=window.getComputedStyle(document.body).paddingRight,o=window.innerWidth-document.documentElement.clientWidth;document.body.classList.add("overflow-hidden"),document.body.style.paddingRight=`${o+parseFloat(i||0)}px`}else setTimeout(()=>{document.body.classList.remove("overflow-hidden"),document.body.style.paddingRight=this.originalBodyPaddingRight||null,document.body.style.overflow=this.originalBodyOverflow},300)})},trigger:{["@click"](){this.openedModalId=this.$el.dataset.mistralModalId}},background:{["x-show"](){let e=this.$el.querySelector("[x-bind=dialog]").id;return this.openedModalId===e},["x-transition:enter"](){return"transition duration-300"},["x-transition:enter-start"](){return"opacity-0"},["x-transition:enter-end"](){return"opacity-1"},["x-transition:leave"](){return"transition duration-300"},["x-transition:leave-start"](){return"opacity-1"},["x-transition:leave-end"](){return"opacity-0"}},dialog:{["@mistral-close-modal.window"](){this.openedModalId=null},["x-show"](){return this.openedModalId===this.$el.id},["x-trap"](){return this.openedModalId===this.$el.id},["@keydown.escape.window"](){this.openedModalId=null},["@click.away"](){this.openedModalId=null},["x-transition:enter"](){return"transition ease-[cubic-bezier(.46,1.56,.8,1)] duration-300"},["x-transition:enter-start"](){return"opacity-0 -translate-y-12"},["x-transition:enter-end"](){return"opacity-1 translate-y-0"},["x-transition:leave"](){return"transition ease-out duration-300"},["x-transition:leave-start"](){return"opacity-1 translate-y-0"},["x-transition:leave-end"](){return"opacity-0 -translate-y-12"}}});var v=()=>({style:{wrapper:"relative",menu:{bottom:"absolute bg-white rounded-lg shadow-lg py-3 w-max mt-3 z-10",top:"absolute bg-white rounded-lg shadow-lg py-3 w-max -translate-y-full -mt-3 top-0 z-10"},menuItem:"px-4 py-2 flex gap-2 items-center outline-0 focus:bg-neutral-100 hover:bg-neutral-100 whitespace-nowrap"},position:"bottom",open:!1,init(){let e=this.style,r=this.$el;this.position=r.dataset.position==="top"?"top":"bottom",r.className=e.wrapper;let t=this.$el.querySelector("[x-bind=trigger]"),i=this.$el.querySelector("[x-bind=menu]");i.className=e.menu[this.position],this.$el.querySelectorAll("[x-bind=menu] > li > a").forEach(n=>{n.className=e.menuItem})},trigger:{["@click.prevent"](){this.open=!this.open}},menu:{["x-show"](){return this.open},["x-trap"](){return this.open},["@keydown.escape.window"](){this.open=!1},["@click.away"](){this.open=!1},["@keydown.prevent.down"](){this.$focus.wrap().next()},["@keydown.prevent.up"](){this.$focus.wrap().previous()},["x-transition:enter"](){return"ease-[cubic-bezier(.3,2.3,.6,1)] duration-200"},["x-transition:enter-start"](){return this.position==="bottom","!opacity-0 !mt-0"},["x-transition:enter-end"](){return this.position==="bottom"?"!opacity-1 !mt-3":"!opacity-1 !-mt-3"},["x-transition:leave"](){return"ease-out duration-200"},["x-transition:leave-start"](){return this.position==="bottom"?"!opacity-1 !mt-3":"!opacity-1 !-mt-3"},["x-transition:leave-end"](){return this.position==="bottom","!opacity-0 !mt-0"}}});window.Mistral={multiselect:b,modal:f,dropdown:v};})();
